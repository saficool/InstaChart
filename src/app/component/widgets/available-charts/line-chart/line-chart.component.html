<div class="row g-2 mb-2">
    <div class="col-sm-6">
        <div class="input-group input-group-sm shadow-none">
            <span class="input-group-text" id="categorical_column">
                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" fill="none"
                    stroke="black" stroke-width="1">
                    <rect x="3" y="2" width="12" height="14" fill="none" stroke="black" />
                    <line x1="3" y1="6" x2="15" y2="6" />
                    <line x1="3" y1="10" x2="15" y2="10" />
                    <line x1="3" y1="14" x2="15" y2="14" />
                </svg>
            </span>
            <select [(ngModel)]="chartConfiguration.data_object!.categorical_column"
                class="form-select form-select-sm shadow-none" aria-label="Default select example">
                <option [ngValue]="null" [selected]="true">Select category...</option>
                @for (categorical of chartData.chart_data_column_types?.categorical; track $index) {
                <option [ngValue]="categorical">{{categorical}}</option>
                }
            </select>
        </div>
    </div>
</div>

<div class="row g-2 mb-2">
    @for (aggregate_numerical_object of chartConfiguration.data_object?.aggregate_numerical_objects;
    track $index) {
    <div class="col-sm-6">
        <div class="input-group input-group-sm shadow-none">
            <span class="input-group-text" id="numerical_column">
                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" fill="none"
                    stroke="black" stroke-width="1">
                    <rect x="4" y="4" width="2" height="10" fill="black" />
                    <rect x="8" y="2" width="2" height="12" fill="black" />
                    <rect x="12" y="6" width="2" height="8" fill="black" />
                </svg>
            </span>
            <select [(ngModel)]="aggregate_numerical_object.numerical_column"
                class="form-select form-select-sm shadow-none" aria-label="Default select example">
                <option [ngValue]="null" [selected]="true">Select numeric...</option>
                @for (numerical of chartData.chart_data_column_types?.numerical; track $index) {
                <option [ngValue]="numerical">{{numerical}}</option>
                }
            </select>
        </div>
    </div>
    <div class="col-sm-5">
        <div class="input-group input-group-sm shadow-none">
            <span class="input-group-text" id="aggregate_function">
                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" fill="none"
                    stroke="black" stroke-width="1">
                    <circle cx="9" cy="9" r="7" stroke="black" fill="none" />
                    <line x1="9" y1="9" x2="9" y2="2" stroke="black" />
                    <line x1="9" y1="9" x2="15" y2="9" stroke="black" />
                    <path d="M9 9 L15 15 A7 7 0 0 1 9 2 Z" fill="black" />
                </svg>
            </span>
            <select [(ngModel)]="aggregate_numerical_object.aggregate_function"
                class="form-select form-select-sm shadow-none" aria-label="Default select example">
                @for (aggregate_function of aggregate_functions|enumToArray; track $index) {
                <option [value]="aggregate_function.value">{{aggregate_function.value}}</option>
                }
            </select>
        </div>
    </div>
    <div class="col-sm-1">
        <button type="button" class="btn btn-sm btn-danger w-100" aria-label="Delete data"
            (click)="removeAggregateNumericalObject($index)">
            <i class="bi bi-trash"></i>
        </button>
    </div>
    }
</div>

<div class="row g-2 mb-2">
    <div class="col-sm-12 d-flex justify-content-end">
        <button type="button" class="btn btn-sm btn-primary" aria-label="Add data"
            (click)="addAggregateNumericalObject()">
            <i class="bi bi-plus-lg"></i>
        </button>
    </div>
</div>

<button type="button" class="btn btn-sm btn-primary w-100" aria-label="Add data" (click)="saveChartConfiguration()">
    <i class="bi bi-save me-2"></i> Save
</button>